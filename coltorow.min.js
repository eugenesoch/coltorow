function updateGridOrder(e,t){const o=document.createDocumentFragment();t.forEach(t=>o.appendChild(t)),e.appendChild(o),requestAnimationFrame(()=>e.style.opacity="1")}let originalOrder=[];function reorderAndReplaceMasonryItems(){let e=document.querySelector("[coltorow='grid']");if(!e)return console.error("Masonry grid not found");if(e.style.opacity="0",0===originalOrder.length&&(originalOrder=Array.from(e.querySelectorAll("[coltorow='item']"))),[...originalOrder],1<=parseInt(window.getComputedStyle(e).getPropertyValue("column-count"),10)){let t=Array.from({length:parseInt(window.getComputedStyle(e).getPropertyValue("column-count"),10)},()=>[]);for(let o=0;o<originalOrder.length;o++)t[o%parseInt(window.getComputedStyle(e).getPropertyValue("column-count"),10)].push(originalOrder[o]);updateGridOrder(e,t.flat())}else console.error("Unexpected column count or no columns:",parseInt(window.getComputedStyle(e).getPropertyValue("column-count"),10))}let lastViewportCategory=null;function onViewportResize(){const e=window.innerWidth,t=e>991?"desktop":"tablet";t!==lastViewportCategory&&(reorderAndReplaceMasonryItems(),lastViewportCategory=t)}let resizeTimeout;window.addEventListener("resize",()=>{clearTimeout(resizeTimeout),resizeTimeout=setTimeout(onViewportResize,100)}),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector("[coltorow='grid']");e&&(e.style.opacity="0",e.style.transition="opacity 300ms ease-in-out",reorderAndReplaceMasonryItems())});